
<!DOCTYPE HTML>
<!--
   Editorial by HTML5 UP
   html5up.net | @ajlkn
   Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
   <head>
       <title>Computer Aided Design | Rutuja Patel | Fab Academy 2018</title>
      <meta charset="utf-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
      <!--[if lte IE 8]><script src="assets/js/ie/html5shiv.js"></script><![endif]-->
      <link rel="stylesheet" href="assets/css/main.css" />
      <!--[if lte IE 9]><link rel="stylesheet" href="assets/css/ie9.css" /><![endif]-->
      <!--[if lte IE 8]><link rel="stylesheet" href="assets/css/ie8.css" /><![endif]-->
   </head>
   <body>

      <!-- Wrapper -->
         <div id="wrapper">

            <!-- Main -->
               <div id="main">
                  <div class="inner">

                     <!-- Header -->
                        <header id="header">
                           <a href="index.html" class="logo"><strong>Rutuja Patel </strong>| Fab Academy 2018</a>
                           <ul class="icons">
                              <li><a href="#" class="icon fa-twitter"><span class="label">Twitter</span></a></li>
                              <li><a href="#" class="icon fa-facebook"><span class="label">Facebook</span></a></li>
                              <li><a href="#" class="icon fa-snapchat-ghost"><span class="label">Snapchat</span></a></li>
                              <li><a href="#" class="icon fa-instagram"><span class="label">Instagram</span></a></li>
                              <li><a href="#" class="icon fa-medium"><span class="label">Medium</span></a></li>
                           </ul>
                        </header>

                     <!-- Fab Week Content  -->
                        <section>
                  <header class="main">
                     <h1>Week 14 | Input Devices | Apr 25</h1>
                  </header>
                  <!-- Content -->
                  <h2 id="content"><a href="http://academy.cba.mit.edu/classes/principles_practices/index.html">Fab Academy 2018 | Archive</a></h2>
                  
                  <hr>

                 <br><!--
                 <h3>Sketch of Final Project</h3>
                        <div class="box">

                           <p>
                              I will use Ultrasonic distance sensor as an input device for my final project so I decided to make a board with Ultrasonic senor. This sensor is SONAR which can detect distance. I have also included RGB LED so that I can detect at what range the object is detected by the ultrasonic.
                              <br>
                              <br>
                              The first step is to design schmetic in Eagle of the circuit. This week I wanted to explore ATtiny 44 and used it to make the circuit. I refered to Neil's ATtiny 45 board for the connections.
                              <br><br>
                              <img src="images/week11/EagleSchematic.jpg" alt="EagleSchematic" width="700" height="420" />
                              <br><br>
                              Next step is to make board out of the schematic I made. I arranged all the components with minimum cross lines so while autorouting it does not create amy problem and the traces would be clear.
                              <br><br>
                              <img src="images/week11/Board1.jpg" alt="Board1" width="700" height="420" />
                              <br><br>
                              I modified the traces using the rout command so that when I open in fabmodules, the traces do not merge with each other. I reduced the width of the traces to 6. 
                              <br><br>
                              <img src="images/week11/FinalBoard.jpg" alt="FinalBoard" width="700" height="420" />
                              <br><br>
                              opened this board in fabmodules and was not showing any errors. I milled the board but while doing outer cut it cut the path so the board got wasted. I realised this when I had already soldered it half.
                              <br><br>
                              <img src="images/week11/MilledBoard.jpg" alt="MilledBoard" width="350" height="210" />
                              <img src="images/week11/CutTracesOfPCB.jpg" alt="CutTracesOfPCB" width="350" height="210" />
                              <br><br>
                              This board got wasted so I milled another board. Because of the bad alignment of the board, it again got wasted.
                              <br><br>
                              <img src="images/week11/WrongAlignmentWastedBoard.jpg" alt="WrongAlignmentWastedBoard" width="700" height="420" />
                              <br><br>
                              This happened because the sacrificial board did not stick properly on the bed and while milling the board it satrted moving and the bit started cutting the wrong path. It took time in aligning the bed properly and after I was able to mill the board properly. I was able to solder it properly.
                              <br><br>
                              <img src="images/week11/FinalMilledBoard.jpg" alt="FinalMilledBoard" width="700" height="420" /> 
                              <br><br>
                              <img src="images/week11/FinalSolderedBoard.jpg" alt="MilledBoard" width="700" height="420" />
                              <br><br>
                              Next step was of programming the circuit. i decide programming the board using Arduino software. I used my ISP board which I made in week 5. I changed setings of ATtiny 44 but it showed error while burning the Bootloader so was not able to program it. (Bootloader is a program which runs at the time we connect the Arduino to uor PC and also when we RESET the board. If we don't want this kind of delay then you can use the command "Burn Bootloader")
                              <br><br>
                              <img src="images/week11/SelectingTheBoardInArduino.jpg" alt="SelectingTheBoardInArduino" width="700" height="420" />
                              <br><br>
                              <img src="images/week11/BurningBootloaderError.jpg" alt="BurningBootloaderError" width="700" height="420" />
                              <br><br>
                              I again tried programming it using Arduino Board but this time still it showed the error that "Programmer is not responding" 
                              <br><br>
                              <img src="images/week11/ArduinoBoardCodeError.jpg" alt="ArduinoBoardCodeError" width="700" height="420" />




                              <br><br>
                              



                           </p>
                           
                        </div><-->


                        <h2>Ultrasonic as Intput by Trig & Echo Data it changes RGB LED according to prefered distance in code</h2>

                        <div class="box">
                        

This week was for making an input device which I was going to use in my final project. I was going to use Ultrasonic sensor as an input device. This week I wanted to use the ATtiny 44 board so I designed a board with ultrasonic sensor and added RGB led into the board.


I used Eagle to design  the PCB using the ATTiny 44.


The components I used:

<ol>
   <li>ATTiny 44</li>
   <li>RGB Led</li>
   <li>Ultrasonic Headers</li>
   <li>FTDI</li>
   <li>Capacitor</li>
   <li>4 Resistors</li>
</ol>

First step is to make a schematic in the Eagle



<br><span class="image main"><img src="images/week12/ComponentsOfInput.jpg"></span><br>






Connecting the components at the required pin number.



<br><span class="image main"><img src="images/week12/ComponentSchematic.jpg"></span><br>








Eagle board view




<br><span class="image main"><img src="images/week12/ComponentsToSet.jpg"></span><br>





<br><span class="image main"><img src="images/week12/ComponentsToSet2.jpg"></span><br>










<br><span class="image main"><img src="images/week12/BoardToMill.jpg"></span><br>







I used Auto-rout command to generate the traces and made some changes in the path for making it look more better.



<br><span class="image main"><img src="images/week12/ImproperMilling.jpg"></span><br>


This happens when the board does not stick properly to the machineâ€™s bed, the board starts moving and all the traces gets merged






As the board got wasted, I milled another board with sticking a good quality tape and it milled properly. Now the board was ready to be soldered.

 

<br><span class="image main"><img src="images/week12/ProperlyMilledBoard.jpg"></span><br>




<br><span class="image main"><img src="images/week12/SolderedBoard.jpg"></span><br>





I tested the board with multimeter, all the connections were perfect and no part was merging.



<br><span class="image main"><img src="images/week12/RGBBlue.jpg"></span><br>





Now the board is ready to be coded. I referred the code from here and made changes according to the design.





First I tested the code with rgb. The code worked properly and the rgb was bright and beautiful.


















<pre><code>#include <SoftwareSerial.h>

#define RX 5
#define TX 6

SoftwareSerial mySerial(5,6); // rx, tx

#define echoPin 2
#define trigPin 3
#define LEDPin 13

int maximumRange = 200;
int minimumRange = 0;
long duration, distance;
int redPin = 8;
int greenPin = 9;
int bluePin = 10;

void setup()
{
    mySerial.begin (9600);
    pinMode(trigPin, OUTPUT);
    pinMode(echoPin, INPUT);
    pinMode(LEDPin, OUTPUT);
    pinMode(redPin, OUTPUT);
    pinMode(greenPin, OUTPUT);
 }


void loop()
{
    digitalWrite(trigPin, LOW);
    delayMicroseconds(2);
    digitalWrite(trigPin, HIGH);
    delayMicroseconds(10);
    digitalWrite(trigPin, LOW);
    duration = pulseIn(echoPin, HIGH);
    distance = duration/58.2;
  if(distance>=60)
{  
    setColor(255, 0, 0);  // red
    delay(100);
}
  if (distance<60 && distance>=50)
{
    setColor(0, 255, 0);  // green
    delay(100);
}
  if (distance<50 && distance>=40)
{
    setColor(0, 0, 255);  // blue
    delay(100);
}
 else
{
    digitalWrite(LEDPin, LOW);
}
   mySerial.println(distance);
   delay(100);
}
void setColor(int red, int green, int blue)
{
   analogWrite(redPin, red);
   analogWrite(greenPin, green);
   analogWrite(bluePin, blue);

}</code></pre>






Video in the file

UltrasonicRGB.mp4



                        </div>
                         </section>
            <!-- Fab Week Content  -->


                  </div>
               </div>

            <!-- Sidebar -->
               <div id="sidebar">
                  <div class="inner">

                     <!-- Search -->
                  <center><img src="images/profile.jpg" width="50%" height="50%" alt="">
               <br>
               Rutuja Patel <br>
            EC Engineer</center>

                     <!-- Menu -->
                        <nav id="menu">
               <header class="major">
                  <h2>Menu</h2>
               </header>
               <ul>
                  <li><a href="index.html">Homepage</a></li>
                  <li>
                     <span class="opener">Assignments</span>
                    
                     <ol>
                        <li><a href="01-principles-practices.html">Principles Practices</a></li>
                        <li><a href="02-project-management.html">Project Management</a></li>
                        <li><a href="03-computer-aided-design.html">Computer-Aided Design</a></li>
                        <li><a href="04-computer-controlled-cutting.html">Computer-Controlled Cutting</a></li>
                        <li><a href="05-electronics-production.html">Electronics Production</a></li>
                        <li><a href="06-3d-scanning-printing.html">3D Scanning and Printing</a></li>
                        <li><a href="07-electronics-design.html">Electronics Design</a></li>
                        <li><a href="08-computer-controlled-machining.html">Computer-Controlled Machining</a></li>
                        <li><a href="09-embedded-programming.html">Embedded Programming</a></li>
                        <li><a href="10-molding-casting.html">Molding and Casting</a></li>
                        <li><a href="11-break.html">Break</a></li>
                        <li><a href="12-input-devices.html">Input Devices</a></li>
                        <li><a href="13-output-devices.html">Output Devices</a></li>
                        <li><a href="14-interface-and-application-programming.html">Interface and Application Programming</a></li>
                        <li><a href="15-networking-and-communications.html">Networking and Communication</a></li>
                        <li><a href="16-machine-mechanical-design.html">Machine - Mechnical Design</a></li>
                        <li><a href="17-wildcard-week.html">Wildcard Week</a></li>
                        <li><a href="18-applications-implications.html">Applications and Implications</a></li>
                        <li><a href="19-invention-ip-income.html">Invention, Intellectual Property, and Income</a></li>
                 </ol>

                  </li>
                  <li><a href="Final-Project.html">Final Project</a></li>

               </ul>
            </nav>


                         <section>
                                 <header class="major">
                                    <h2>Get in touch</h2>
                                 </header>
                                 <p>I am EC engineer doing my BE at state university at Gujarat, India.</p>
                                 <ul class="contact">
                                    <li class="fa-envelope-o"><a href="#">rutujapatel1201@gmail.com</a></li>
                                    <li class="fa-phone">Sen me a Mail</li>
                                    <li class="fa-home">Iscon, Ahmedabad,<br />
                                       Gujarat, IN 380015
                                    </li>
                                 </ul>
                           </section>

                     <!-- Footer -->
                           <footer id="footer">
                                  <p class="copyright">&copy; Rutuja Patel. All rights reserved. <br>Design: Editorial Theme by <a href="https://html5up.net">HTML5 UP</a>.</p>
                              </footer>

                  </div>
               </div>

         </div>

      <!-- Scripts -->
         <script src="assets/js/jquery.min.js"></script>
         <script src="assets/js/skel.min.js"></script>
         <script src="assets/js/util.js"></script>
         <!--[if lte IE 8]><script src="assets/js/ie/respond.min.js"></script><![endif]-->
         <script src="assets/js/main.js"></script>

   </body>
</html>